<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Marcia's Birthday</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      /* ----------------------------------------------
       BASIC RESET
      ---------------------------------------------- */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* ----------------------------------------------
       BODY WITH ANIMATED GRADIENT BACKGROUND
      ---------------------------------------------- */
      body {
        width: 100%;
        height: 100vh;
        color: #fff;
        font-family: Arial, sans-serif;
        overflow: hidden; /* Prevent scrolling */
        position: relative;
        background: linear-gradient(-45deg, #0f2027, #203a43, #2c5364, #203a43);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
      }
      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* ----------------------------------------------
       STAR FIELD (TWINKLING STARS IN THE BACKGROUND)
      ---------------------------------------------- */
      .star {
        position: absolute;
        width: 2px;
        height: 2px;
        border-radius: 50%;
        background: #fff;
        opacity: 0.6;
        animation: twinkle 2s infinite ease-in-out;
      }
      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.4;
        }
        50% {
          opacity: 1;
        }
      }

      /* Container for all content */
      .container {
        position: relative;
        width: 100%;
        height: 100%;
      }

      /* ----------------------------------------------
       MESSAGES
       Appear with a slight "scale" and fade (opacity)
      ---------------------------------------------- */
      .message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.8);
        font-size: 2rem;
        text-align: center;
        opacity: 0; /* hidden initially */
        transition: all 1s ease; /* animate scale & opacity */
        width: 80%;
        max-width: 800px;
        padding: 0 1rem;
        line-height: 1.4;
      }
      .active {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }

      /* 
      Optional adjustment if text is too large
      on smaller screens (e.g., iPhone 13 mini).
      */
      @media (max-width: 400px) {
        .message {
          font-size: 1.3rem;
        }
      }

      /* ----------------------------------------------
       F1 CAR
       Animates from left to right
      ---------------------------------------------- */
      .f1-car {
        position: absolute;
        top: 70%; /* Adjust as needed */
        left: -130px; /* Start off-screen left */
        width: 150px;
        z-index: 1;
        }
      /* “Running” animation from left to right */
/* “Running” animation from left to right */
        .slide-in {
        animation: moveCar 4s linear forwards; /* 9 seconds duration */
        }

        @keyframes moveCar {
        from {
            transform: translateX(0);
        }
        to {
            transform: translateX(120vw); /* Move off-screen right */
        }
        }


      /* ----------------------------------------------
       PHOTO SECTION
      ---------------------------------------------- */
      .photo-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 2rem;
      }
      .photo-section img {
        max-width: 300px;
        border-radius: 8px;
        box-shadow: 0 0 12px rgba(255, 255, 255, 0.4);
        margin-bottom: 1rem;
      }

      /* ----------------------------------------------
       CONFETTI
      ---------------------------------------------- */
      .confetti {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: 999;
      }
      .confetti-piece {
        position: absolute;
        width: 8px;
        height: 8px;
        background: #fdee00;
        will-change: transform, opacity;
        animation: fly 4s linear forwards;
        opacity: 0;
      }
      @keyframes fly {
        0% {
          opacity: 1;
          transform: translate(0, 0) rotate(0deg);
        }
        100% {
          opacity: 0;
          transform: translate(var(--tx), var(--ty)) rotate(720deg);
        }
      }

      /* ----------------------------------------------
       BLINKING STARS AT THE END
      ---------------------------------------------- */
      .blinking-star {
        position: absolute;
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: #fff;
        opacity: 0;
        animation: blink 1.5s infinite;
      }
      @keyframes blink {
        0%, 100% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <!-- Container for stars, content, confetti -->
    <div class="container" id="star-field">
      <!-- F1 Car (ensure the image path is correct) -->
      <img class="f1-car" src="./img/f1.png" alt="F1 Car" />

      <!-- Message 1 -->
      <div class="message" id="msg1">
        <p>Good evening, ladies and gentlemen!</p>
        <p>Today is <strong>January 3rd</strong>...</p>
        <p>Do you know who is celebrating a birthday on this date?</p>
      </div>

      <!-- Message 2 -->
      <div class="message" id="msg2">
        <p>
          It's the day of the legendary <strong>Michael Schumacher</strong>!
        </p>
        <p>Seven-time F1 World Champion, a true motorsport icon!</p>
      </div>

      <!-- Message 3 -->
      <div class="message" id="msg3">
        <p>But wait... he's not the only lucky one celebrating today...</p>
        <p>There's someone VERY special also blowing out candles!</p>
      </div>

      <!-- Message 4 -->
      <div class="message" id="msg4">
        <p>This person is in <strong>Houston, Texas</strong>!</p>
        <p>A nuclear physicist with a post-doctorate in epidemiology... Amazing!</p>
      </div>

      <!-- Message 5 -->
      <div class="message" id="msg5">
        <p><strong>Happy Birthday, Márcia!</strong></p>
        <p>I took a bit longer to close with a golden key, but I wanted to make this moment even more special!</p>
        <div class="photo-section">
          <!-- Replace with your actual image URL/file -->
          <img src="./img/marcia.jpg" alt="Photo with Marcia" />
          <p>A throwback to our early days in Houston.</p>
        </div>
      </div>

      <!-- Message 6 -->
      <div class="message" id="msg6">
        <p>May God continue to bless you richly</p>
        <p>and shower you with countless blessings wherever you are!</p>
      </div>

      <!-- Message 7 - Final Happy Birthday Message -->
      <div class="message" id="msg7">
        <p><strong>Happy Birthday, Márcia!</strong></p>
        <p>Wishing you had a day filled with love, joy, and all your heart's desires!</p>
        <p>:)</p>
      </div>
    </div>

    <!-- Confetti layer -->
    <div class="confetti" id="confetti"></div>

    <!-- Blinking Stars layer -->
    <div class="confetti" id="blinking-stars"></div>

    <script>
      // --- CREATE STARS (TWINKLING) ---
      // We'll place a bunch of .star elements randomly on the screen.
      const starField = document.getElementById("star-field");
      function createStars(count = 60) {
        for (let i = 0; i < count; i++) {
          const star = document.createElement("div");
          star.classList.add("star");

          // Random position
          const x = Math.random() * 100; // 0% to 100%
          const y = Math.random() * 100; // 0% to 100%
          star.style.left = x + "%";
          star.style.top = y + "%";

          // Occasionally make a bigger star
          const size = Math.random() < 0.1 ? 3 : 2;
          star.style.width = size + "px";
          star.style.height = size + "px";

          starField.appendChild(star);
        }
      }
      createStars(60);

      // --- REFERENCES ---
      const car = document.querySelector(".f1-car");
      const msg1 = document.getElementById("msg1");
      const msg2 = document.getElementById("msg2");
      const msg3 = document.getElementById("msg3");
      const msg4 = document.getElementById("msg4");
      const msg5 = document.getElementById("msg5");
      const msg6 = document.getElementById("msg6");
      const msg7 = document.getElementById("msg7");
      const confettiContainer = document.getElementById("confetti");
      const blinkingStarsContainer = document.getElementById("blinking-stars");

      /*
      TIMELINE (~40s total):
      ---------------------------------
      0.5s  -> Car enters (3s)
      1s    -> show msg1 (until 7s)
      7s    -> hide msg1, show msg2 (until 13s)
      13s   -> hide msg2, show msg3 (until 19s)
      19s   -> hide msg3, show msg4 (until 25s)
      25s   -> hide msg4, show msg5 (until 35s)
      35s   -> hide msg5, show msg6 (until 40s)
      40s   -> hide msg6, show msg7 + confetti + blinking stars
      */

      // 1) Car animation starts at 0.5s
// 1) Car animation starts at 9s
    setTimeout(() => {
        car.classList.add("slide-in");
    }, 9000); // 9000 milliseconds = 9 seconds


      // 2) Show msg1 at 1s
      setTimeout(() => {
        msg1.classList.add("active");
      }, 1000);

      // 3) Hide msg1, show msg2 at 7s
      setTimeout(() => {
        msg1.classList.remove("active");
        msg2.classList.add("active");
      }, 7000);

      // 4) Hide msg2, show msg3 at 13s
      setTimeout(() => {
        msg2.classList.remove("active");
        msg3.classList.add("active");
      }, 13000);

      // 5) Hide msg3, show msg4 at 19s
      setTimeout(() => {
        msg3.classList.remove("active");
        msg4.classList.add("active");
      }, 19000);

      // 6) Hide msg4, show msg5 at 25s
      setTimeout(() => {
        msg4.classList.remove("active");
        msg5.classList.add("active");
        startConfetti(); // Start confetti when msg5 appears
      }, 25000);

      // 7) Hide msg5, show msg6 at 35s
      setTimeout(() => {
        msg5.classList.remove("active");
        msg6.classList.add("active");
      }, 35000); // 35 seconds

      // 8) Hide msg6, show msg7 + confetti + blinking stars at 40s
      setTimeout(() => {
        msg6.classList.remove("active");
        msg7.classList.add("active");
        startFinalEffects();
      }, 40000); // 40 seconds

      // ------- CONFETTI -------
      function randomBetween(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
      }

      function createConfettiPiece() {
        const confettiPiece = document.createElement("div");
        confettiPiece.classList.add("confetti-piece");

        // Random color
        const colors = [
          "#FDEE00",
          "#FF5B5B",
          "#57E2E5",
          "#8F00FF",
          "#FFBC42",
          "#FF85AD",
          "#00FA9A",
          "#FF5733",
          "#33FF57",
          "#3357FF",
          "#FFC300",
          "#DAF7A6",
        ];
        const randomColor = colors[randomBetween(0, colors.length - 1)];
        confettiPiece.style.backgroundColor = randomColor;

        // Determine side: left or right
        const side = Math.random() < 0.5 ? "left" : "right";
        if (side === "left") {
          confettiPiece.style.left = "0%";
          confettiPiece.style.setProperty("--tx", `${randomBetween(50, 100)}vw`);
        } else {
          confettiPiece.style.left = "100%";
          confettiPiece.style.setProperty("--tx", `${randomBetween(-100, -50)}vw`);
        }

        // Random vertical start position
        const yPos = randomBetween(10, 90);
        confettiPiece.style.top = `${yPos}%`;

        // Random translation on Y-axis
        confettiPiece.style.setProperty("--ty", `${randomBetween(20, 100)}vh`);

        // Random size
        const size = randomBetween(6, 12) + "px";
        confettiPiece.style.width = size;
        confettiPiece.style.height = size;

        // Random animation duration
        const duration = randomBetween(3, 5) + "s";
        confettiPiece.style.animationDuration = duration;

        confettiContainer.appendChild(confettiPiece);

        // Remove from DOM after animation ends
        confettiPiece.addEventListener("animationend", () => {
          confettiPiece.remove();
        });
      }

      function startConfetti() {
        // Explode confetti in a short period to simulate an explosion
        for (let i = 0; i < 100; i++) {
          setTimeout(() => {
            createConfettiPiece();
          }, i * 20); // Confetti every 20ms
        }
      }

      // ------- FINAL EFFECTS (Confetti and Blinking Stars) -------
      function createBlinkingStar() {
        const blinkingStar = document.createElement("div");
        blinkingStar.classList.add("blinking-star");

        // Random position
        const x = Math.random() * 100; // 0% to 100%
        const y = Math.random() * 100; // 0% to 100%
        blinkingStar.style.left = x + "%";
        blinkingStar.style.top = y + "%";

        blinkingStarsContainer.appendChild(blinkingStar);

        // Remove after some time to prevent too many elements
        setTimeout(() => {
          blinkingStar.remove();
        }, 3000); // 3 seconds
      }

      function startFinalEffects() {
        // Start confetti explosion
        startConfetti();

        // Start blinking stars
        for (let i = 0; i < 50; i++) {
          setTimeout(() => {
            createBlinkingStar();
          }, i * 100); // Create a blinking star every 100ms
        }
      }
    </script>
  </body>
</html>
